<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>RTSDK</title><meta name="description" content="Documentation for RTSDK"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">RTSDK</a><div id="tsd-toolbar-links"><a href="https://www.npmjs.com/package/@rtsdk/topia">NPM Package</a><a href="https://topia.io/sdk-demos">Demo</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>RTSDK</h1></div><div class="tsd-panel tsd-typography"><hr />
<h1 id="javascript-rtsdk---topia-client-library" class="tsd-anchor-link">Javascript RTSDK - Topia Client Library<a href="#javascript-rtsdk---topia-client-library" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><hr/>
<br>
<h3 id="create-integrated-interactive-experiences-with-topias-sdk-and-api" class="tsd-anchor-link">Create integrated, interactive experiences with Topia’s SDK and API<a href="#create-integrated-interactive-experiences-with-topias-sdk-and-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Topia offers a robust SDK and API that allows anyone to build custom apps or integrate any 3rd-party content, application, game or learning experience. Dedicated deployments launch with dozens of SDK Applications, including mini-games and social apps made by the Topia team and our developer community</p>
<h3 id="topias-sdkapi-can-be-used-to" class="tsd-anchor-link">Topia’s SDK/API can be used to:<a href="#topias-sdkapi-can-be-used-to" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Turn existing applications and systems into multiplayer, cooperative experiences</li>
<li>Integrate existing content into multiplayer learning journeys</li>
<li>Create your own custom, dynamic social experiences and games</li>
<li>Store and persist JSON data objects across sessions</li>
<li>Add Social Connectivity Networking capabilities to your existing platforms</li>
</ul>
<h3 id="key-features" class="tsd-anchor-link">Key Features:<a href="#key-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Built-in safety and security via an interactive credentialing system</li>
<li>Control over the code and IP of your creations</li>
<li>Integrated via i-frame, in-world assets, and server-based bi-directional data flow</li>
<li>Every object, world, and visitor has a JSON database you use to build interactivity and data persistence</li>
<li>Powerful SDK classes and methods enable control of every aspect of Topia</li>
</ul>
<h3 id="resources" class="tsd-anchor-link">Resources:<a href="#resources" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><a href="https://www.npmjs.com/package/@rtsdk/topia">NPM Package</a></li>
<li><a href="https://topia.io/sdk-demos">Demo World</a></li>
<li><a href="https://github.com/metaversecloud-com/sdk-ts-boilerplate">Typescript Boilerplate</a></li>
</ul>
<h4 id="need-inspiration-check-out-the-following-applications-which-utilizes-the-sdk-to-create-new-and-enhanced-features-inside-topiaio" class="tsd-anchor-link">Need inspiration?! Check out the following applications which utilizes the SDK to create new and enhanced features inside <a href="https://topia.io/">topia.io</a>:<a href="#need-inspiration-check-out-the-following-applications-which-utilizes-the-sdk-to-create-new-and-enhanced-features-inside-topiaio" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Bulletin Board:</strong> A message board style application where users can submit messages and/or images for approval and an admin can approve the message so that it can be added to the world.
<ul>
<li><a href="https://github.com/metaversecloud-com/sdk-bulletin-board-app">Github</a></li>
<li><a href="https://topia.io/bulletin-board-prod">Demo</a></li>
</ul>
</li>
<li><strong>Jukebox:</strong> A real-time interactive music player.
<ul>
<li><a href="https://github.com/metaversecloud-com/jukebox">Github</a></li>
<li><a href="https://topia.io/jukebox-prod">Demo</a></li>
</ul>
</li>
<li><strong>TicTacToe:</strong> A turn based multiplayer game built completely on the canvas.
<ul>
<li><a href="https://github.com/metaversecloud-com/sdk-tictactoe">Github</a></li>
<li><a href="https://topia.io/tictactoe-prod">Demo</a></li>
</ul>
</li>
<li><strong>Quest:</strong> A dynamic hide and seek game where an admin can drop multiple quest items within a world for users to find.
<ul>
<li><a href="https://github.com/metaversecloud-com/sdk-quest">Github</a></li>
<li><a href="https://topia.io/quest-prod">Demo</a></li>
</ul>
</li>
</ul>
<p>Questions, comments, or have something exciting to share with the Topia team? Reach out to <a href="mailto:apps@topia.io">apps@topia.io</a>!
<br/></p>
<h2 id="authorization" class="tsd-anchor-link">Authorization<a href="#authorization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Visitors of a <a href="https://topia.io/">topia.io</a> world interact with each other and the interactively configured assets in your world without the need for an API Key. This is all made possible through Interactive Session credentials passed to the SDK with every request, when applicable. What does this mean for you? Not much, actually! All of the magic happens behind the scenes and all you have to do is make sure that new class constructors include an options object like this: <code>options: WorldOptionalInterface = { attributes: {}, credentials: {} }</code> and all calls to <code>this.topia.axios</code> include the inherited <code>this.requestOptions</code> parameter.</p>
<h3 id="want-to-build-interactive-assets-this-is-how-you-can-get-started" class="tsd-anchor-link">Want to build interactive assets? This is how you can get started:<a href="#want-to-build-interactive-assets-this-is-how-you-can-get-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Getting a Key Pair:</p>
<ul>
<li>Navigate directly to your <a href="https://topia.io/t/dashboard/integrations">integrations page</a> or follow the steps below from within a world.
<ul>
<li>Click on your image (or circle) at the top left of the left hand navbar.</li>
<li>Click Edit Profile. This will bring you to a separate dashboard.</li>
<li>Click Integrations on the left nav</li>
</ul>
</li>
<li>Click the “Add Key Pair” button. This is going to be your public / private key pair for your app.</li>
</ul>
<p>Adding a Key Pair to an asset:</p>
<p>Make an asset “interactive” by adding your PUBLIC key to the integrations page of the asset editor.</p>
<ul>
<li>Go back to your world. Make sure you are in “Edit Mode” by toggling on Edit on the left nav bar</li>
<li>Hover over any asset. Click the pencil icon that should show up on hover and select “Edit”</li>
<li>Go to the Integrations tab</li>
<li>At the bottom, you'll see a section that says “Add player session credentials to asset interactions”. Toggle that on. Now webhooks that fire from this asset and iframes that open from this asset will include the following values:
<ul>
<li>assetId</li>
<li>interactivePublicKey</li>
<li>interactiveNonce</li>
<li>visitorId</li>
<li>urlSlug</li>
</ul>
</li>
<li>The above values are included in the query params of the iframe URL as well as payload of the webhook.</li>
<li>Once you have the above values you can pass them as credentials into the factory classes when creating class instances.</li>
</ul>
<pre><code class="ts"><span class="hl-0">// Set up the SDK a separate util file</span><br/><span class="hl-1">import</span><span class="hl-2"> </span><span class="hl-3">dotenv</span><span class="hl-2"> </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;dotenv&quot;</span><span class="hl-2">;</span><br/><span class="hl-3">dotenv</span><span class="hl-2">.</span><span class="hl-5">config</span><span class="hl-2">({ </span><span class="hl-3">path:</span><span class="hl-2"> </span><span class="hl-4">&quot;../.env&quot;</span><span class="hl-2"> });</span><br/><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">Topia</span><span class="hl-2">, </span><span class="hl-3">AssetFactory</span><span class="hl-2">, </span><span class="hl-3">DroppedAssetFactory</span><span class="hl-2">, </span><span class="hl-3">UserFactory</span><span class="hl-2">, </span><span class="hl-3">VisitorFactory</span><span class="hl-2">, </span><span class="hl-3">WorldFactory</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;@rtsdk/topia&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">config</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-3">apiDomain:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-7">INSTANCE_DOMAIN</span><span class="hl-2"> || </span><span class="hl-4">&quot;api.topia.io&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-3">apiProtocol:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-7">INSTANCE_PROTOCOL</span><span class="hl-2"> || </span><span class="hl-4">&quot;https&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-3">interactiveKey:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-7">INTERACTIVE_KEY</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-3">interactiveSecret:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-7">INTERACTIVE_SECRET</span><span class="hl-2">,</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">myTopiaInstance</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">Topia</span><span class="hl-2">(</span><span class="hl-3">config</span><span class="hl-2">);</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">Asset</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">AssetFactory</span><span class="hl-2">(</span><span class="hl-3">myTopiaInstance</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">DroppedAsset</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">DroppedAssetFactory</span><span class="hl-2">(</span><span class="hl-3">myTopiaInstance</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">User</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">UserFactory</span><span class="hl-2">(</span><span class="hl-3">myTopiaInstance</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">Visitor</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">VisitorFactory</span><span class="hl-2">(</span><span class="hl-3">myTopiaInstance</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">World</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">WorldFactory</span><span class="hl-2">(</span><span class="hl-3">myTopiaInstance</span><span class="hl-2">);</span><br/><br/><span class="hl-1">export</span><span class="hl-2"> { </span><span class="hl-3">Asset</span><span class="hl-2">, </span><span class="hl-3">DroppedAsset</span><span class="hl-2">, </span><span class="hl-3">User</span><span class="hl-2">, </span><span class="hl-3">Visitor</span><span class="hl-2">, </span><span class="hl-3">World</span><span class="hl-2"> };</span><br/><br/><span class="hl-0">// Use the SDK in your controllers</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">Request</span><span class="hl-2">, </span><span class="hl-3">Response</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;express&quot;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">World</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;../utils/index.js&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-5">handleFireToast</span><span class="hl-2"> = </span><span class="hl-6">async</span><span class="hl-2"> (</span><span class="hl-3">req</span><span class="hl-2">: </span><span class="hl-8">Request</span><span class="hl-2">, </span><span class="hl-3">res</span><span class="hl-2">: </span><span class="hl-8">Response</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">try</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> { </span><span class="hl-7">assetId</span><span class="hl-2">, </span><span class="hl-7">interactiveNonce</span><span class="hl-2">, </span><span class="hl-7">interactivePublicKey</span><span class="hl-2">, </span><span class="hl-7">urlSlug</span><span class="hl-2">, </span><span class="hl-7">visitorId</span><span class="hl-2"> } = </span><span class="hl-3">req</span><span class="hl-2">.</span><span class="hl-3">query</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> { </span><span class="hl-7">title</span><span class="hl-2">, </span><span class="hl-7">text</span><span class="hl-2"> } = </span><span class="hl-3">req</span><span class="hl-2">.</span><span class="hl-3">body</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">world</span><span class="hl-2"> = </span><span class="hl-3">World</span><span class="hl-2">.</span><span class="hl-5">create</span><span class="hl-2">(</span><span class="hl-3">urlSlug</span><span class="hl-2">, {</span><br/><span class="hl-2">      </span><span class="hl-3">credentials:</span><span class="hl-2"> { </span><span class="hl-3">assetId</span><span class="hl-2">, </span><span class="hl-3">interactiveNonce</span><span class="hl-2">, </span><span class="hl-3">interactivePublicKey</span><span class="hl-2">, </span><span class="hl-3">urlSlug</span><span class="hl-2">, </span><span class="hl-3">visitorId</span><span class="hl-2"> },</span><br/><span class="hl-2">    });</span><br/><br/><span class="hl-2">    </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">world</span><span class="hl-2">.</span><span class="hl-5">fireToast</span><span class="hl-2">({</span><br/><span class="hl-2">      </span><span class="hl-3">title</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">text</span><span class="hl-2">,</span><br/><span class="hl-2">    });</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">res</span><span class="hl-2">.</span><span class="hl-5">json</span><span class="hl-2">({ </span><span class="hl-3">world</span><span class="hl-2">, </span><span class="hl-3">success:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2"> });</span><br/><span class="hl-2">  } </span><span class="hl-1">catch</span><span class="hl-2"> (</span><span class="hl-3">error</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">res</span><span class="hl-2">.</span><span class="hl-5">status</span><span class="hl-2">(</span><span class="hl-3">error</span><span class="hl-2">.</span><span class="hl-3">status</span><span class="hl-2"> || </span><span class="hl-9">500</span><span class="hl-2">).</span><span class="hl-5">send</span><span class="hl-2">({ </span><span class="hl-3">error</span><span class="hl-2">, </span><span class="hl-3">message</span><span class="hl-2">, </span><span class="hl-3">success:</span><span class="hl-2"> </span><span class="hl-6">false</span><span class="hl-2"> });</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">};</span>
</code><button type="button">Copy</button></pre>

<p><img src="https://raw.githubusercontent.com/metaversecloud-com/mc-sdk-js/main/clients/client-topia/InteractiveApplicationDevelopment.png" alt="Interactive Application Development Diagram"></p>
<h3 id="want-to-enable-want-world-owners--admins-to-use-the-app-outside-of-topia-but-still-have-ability-to-modify-things-in-worlds-where-they-have-the-permission-to-do-so-this-is-how-you-can-create-an-api-key" class="tsd-anchor-link">Want to enable want world owners / admins to use the app outside of Topia, but still have ability to modify things in worlds where they have the permission to do so? This is how you can create an API Key:<a href="#want-to-enable-want-world-owners--admins-to-use-the-app-outside-of-topia-but-still-have-ability-to-modify-things-in-worlds-where-they-have-the-permission-to-do-so-this-is-how-you-can-create-an-api-key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A Topia provided API Key can be included with every object initialization as a parameter named <code>apiKey</code>. This API Key is used to in authorization headers in all calls to the Public API. <strong>Use it wisely and sparingly!</strong> The API Key should only be used to authorize your app (and therefore all of it's users) to perform specific actions <strong>when not currently in a Topia world</strong>. In most case the ability to interact with an SDK application should be controlled per user using Interactive Credentials (see above).</p>
<ul>
<li>Navigate directly to your <a href="https://topia.io/t/dashboard/integrations">integrations page</a> or follow the steps below from within a world.
<ul>
<li>Click on your image (or circle) at the top left of the left hand navbar.</li>
<li>Click Edit Profile. This will bring you to a separate dashboard.</li>
<li>Click Integrations on the left nav.</li>
</ul>
</li>
<li>Click Generate New API Key and copy the API Key to be used in your .env file.</li>
</ul>
<br>
<h1 id="new-for-june-2025-multiplayer-experience-engine" class="tsd-anchor-link">New for June 2025: Multiplayer Experience Engine<a href="#new-for-june-2025-multiplayer-experience-engine" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Topia has developed a powerful new Experience Engine that enables extremely low-latency, interactive in-canvas multiplayer experiences. This engine is purpose-built for real-time interaction and supports a wide range of dynamic behaviors, making it ideal for collaborative activities, games, and social experiences within Topia worlds.</p>
<h2 id="key-features-1" class="tsd-anchor-link">Key Features<a href="#key-features-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Ultra Low Latency: Real-time feedback for seamless multi-user interaction and state synchronization.</li>
<li>Physics &amp; Collision: Includes a robust physics and collision system to support realistic and responsive behaviors.</li>
<li>Real-Time Interactivity: Supports dynamic responses to user input and environmental changes inside the canvas.</li>
<li>Optimized for the Web: Engineered to perform smoothly across browser-based environments with minimal resource impact.</li>
</ul>
<h2 id="sdk-integration-leverage-the-sdk-inside-the-experience-engine-to" class="tsd-anchor-link">SDK Integration: Leverage the SDK inside the Experience Engine to:<a href="#sdk-integration-leverage-the-sdk-inside-the-experience-engine-to" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Trigger visual/audio effects based on real-time interactions</li>
<li>Save and persist spatial data, such as object positions or interaction states</li>
</ul>
<p>This engine unlocks a whole new layer of interactivity, paving the way for creative, immersive experiences including educational tools, multiplayer games, or collaborative activities.</p>
<h2 id="get-in-touch" class="tsd-anchor-link">Get In Touch<a href="#get-in-touch" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To sign up for the experience engine private beta, visit <a href="https://topia.io/p/game-engine">https://topia.io/p/game-engine</a>.</p>
<h1 id="developers" class="tsd-anchor-link">Developers<a href="#developers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><hr/>
<br>
<h2 id="get-started" class="tsd-anchor-link">Get Started<a href="#get-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="boilerplates" class="tsd-anchor-link">Boilerplates<a href="#boilerplates" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>We have two boilerplates available to help you get started. Pick the one that best suits your needs, clone it, and let the coding begin!</p>
<ul>
<li><a href="https://github.com/metaversecloud-com/sdk-ts-boilerplate">Typescript</a></li>
</ul>
<p>Run <code>yarn add @rtsdk/topia</code> or <code>npm install @rtsdk/topia</code></p>
<p>Create your instance of Topia and instantiate the factories you need:</p>
<pre><code class="ts"><span class="hl-3">dotenv</span><span class="hl-2">.</span><span class="hl-5">config</span><span class="hl-2">();</span><br/><span class="hl-1">import</span><span class="hl-2"> </span><span class="hl-3">dotenv</span><span class="hl-2"> </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;dotenv&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">AssetFactory</span><span class="hl-2">, </span><span class="hl-3">Topia</span><span class="hl-2">, </span><span class="hl-3">DroppedAssetFactory</span><span class="hl-2">, </span><span class="hl-3">UserFactory</span><span class="hl-2">, </span><span class="hl-3">VisitorFactory</span><span class="hl-2">, </span><span class="hl-3">WorldFactory</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;@rtsdk/topia&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">config</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-3">apiDomain:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-7">INSTANCE_DOMAIN</span><span class="hl-2"> || </span><span class="hl-4">&quot;https://api.topia.io/&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-3">interactiveKey:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-7">INTERACTIVE_KEY</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-3">interactiveSecret:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-7">INTERACTIVE_SECRET</span><span class="hl-2">,</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">myTopiaInstance</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">Topia</span><span class="hl-2">(</span><span class="hl-3">config</span><span class="hl-2">);</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">Asset</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">AssetFactory</span><span class="hl-2">(</span><span class="hl-3">myTopiaInstance</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">DroppedAsset</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">DroppedAssetFactory</span><span class="hl-2">(</span><span class="hl-3">myTopiaInstance</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">User</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">UserFactory</span><span class="hl-2">(</span><span class="hl-3">myTopiaInstance</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">Visitor</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">VisitorFactory</span><span class="hl-2">(</span><span class="hl-3">myTopiaInstance</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">World</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">WorldFactory</span><span class="hl-2">(</span><span class="hl-3">myTopiaInstance</span><span class="hl-2">);</span><br/><br/><span class="hl-1">export</span><span class="hl-2"> { </span><span class="hl-3">Asset</span><span class="hl-2">, </span><span class="hl-3">DroppedAsset</span><span class="hl-2">, </span><span class="hl-3">User</span><span class="hl-2">, </span><span class="hl-3">Visitor</span><span class="hl-2">, </span><span class="hl-3">World</span><span class="hl-2"> };</span>
</code><button type="button">Copy</button></pre>

<br/>
<p>Put it to use in your controller:</p>
<pre><code class="ts"><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">Request</span><span class="hl-2">, </span><span class="hl-3">Response</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;express&quot;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">DroppedAsset</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;utils/topiaInit.ts&quot;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">VisitorInterface</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;@rtsdk/topia&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-5">getDroppedAssetAndVisitor</span><span class="hl-2"> = </span><span class="hl-6">async</span><span class="hl-2"> (</span><span class="hl-3">req</span><span class="hl-2">: </span><span class="hl-8">Request</span><span class="hl-2">, </span><span class="hl-3">res</span><span class="hl-2">: </span><span class="hl-8">Response</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">try</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> { </span><span class="hl-7">assetId</span><span class="hl-2">, </span><span class="hl-7">interactiveNonce</span><span class="hl-2">, </span><span class="hl-7">interactivePublicKey</span><span class="hl-2">, </span><span class="hl-7">urlSlug</span><span class="hl-2">, </span><span class="hl-7">visitorId</span><span class="hl-2"> } = </span><span class="hl-3">req</span><span class="hl-2">.</span><span class="hl-3">query</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">credentials</span><span class="hl-2"> = {</span><br/><span class="hl-2">      </span><span class="hl-3">interactiveNonce</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">interactivePublicKey</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">assetId</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">urlSlug</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">visitorId</span><span class="hl-2">,</span><br/><span class="hl-2">    };</span><br/><br/><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">droppedAsset</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">DroppedAsset</span><span class="hl-2">.</span><span class="hl-5">get</span><span class="hl-2">(</span><span class="hl-3">assetId</span><span class="hl-2">, </span><span class="hl-3">urlSlug</span><span class="hl-2">, { </span><span class="hl-3">credentials</span><span class="hl-2"> });</span><br/><br/><span class="hl-2">    </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">droppedAsset</span><span class="hl-2">.</span><span class="hl-5">fetchDataObject</span><span class="hl-2">();</span><br/><br/><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">visitor</span><span class="hl-2">: </span><span class="hl-8">VisitorInterface</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">Visitor</span><span class="hl-2">.</span><span class="hl-5">get</span><span class="hl-2">(</span><span class="hl-3">visitorId</span><span class="hl-2">, </span><span class="hl-3">urlSlug</span><span class="hl-2">, { </span><span class="hl-3">credentials</span><span class="hl-2"> });</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> { </span><span class="hl-3">droppedAsset</span><span class="hl-2">, </span><span class="hl-3">isAdmin:</span><span class="hl-2"> </span><span class="hl-3">visitor</span><span class="hl-2">.</span><span class="hl-3">isAdmin</span><span class="hl-2"> };</span><br/><span class="hl-2">  } </span><span class="hl-1">catch</span><span class="hl-2"> (</span><span class="hl-3">error</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">res</span><span class="hl-2">.</span><span class="hl-5">status</span><span class="hl-2">(</span><span class="hl-3">error</span><span class="hl-2">.</span><span class="hl-3">status</span><span class="hl-2"> || </span><span class="hl-9">500</span><span class="hl-2">).</span><span class="hl-5">send</span><span class="hl-2">({ </span><span class="hl-3">error</span><span class="hl-2">, </span><span class="hl-3">success:</span><span class="hl-2"> </span><span class="hl-6">false</span><span class="hl-2"> });</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">};</span>
</code><button type="button">Copy</button></pre>

<p><br/><br/></p>
<h2 id="data-objects" class="tsd-anchor-link">Data Objects<a href="#data-objects" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Data Objects can be used to store information such as game state, configurations, themes, and analytics.
There are three types of Data Objects:</p>
<ul>
<li><strong>World:</strong> The World data object should be used to store information unique to your app in a given world but not necessarily specific details about an instance or an active game. This information would persist even if the app was removed from the world.
<ul>
<li><strong>Example - Update two specific data points:</strong><pre><code class="ts"><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">world</span><span class="hl-2">.</span><span class="hl-5">updateDataObject</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-3">[</span><span class="hl-4">`keyAssets.</span><span class="hl-6">${</span><span class="hl-3">keyAssetId</span><span class="hl-6">}</span><span class="hl-4">.itemsCollectedByUser.</span><span class="hl-6">${</span><span class="hl-3">profileId</span><span class="hl-6">}</span><span class="hl-4">`</span><span class="hl-3">]:</span><span class="hl-2"> { </span><span class="hl-3">[dateKey]:</span><span class="hl-2"> { </span><span class="hl-3">count:</span><span class="hl-2"> </span><span class="hl-9">1</span><span class="hl-2"> }, </span><span class="hl-3">total:</span><span class="hl-2"> </span><span class="hl-9">1</span><span class="hl-2"> },</span><br/><span class="hl-2">  </span><span class="hl-3">[</span><span class="hl-4">`profileMapper.</span><span class="hl-6">${</span><span class="hl-3">profileId</span><span class="hl-6">}</span><span class="hl-4">`</span><span class="hl-3">]:</span><span class="hl-2"> </span><span class="hl-3">username</span><span class="hl-2">,</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

</li>
<li><strong>Example - Increment a specific value within the data object by 1:</strong><pre><code class="ts"><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">world</span><span class="hl-2">.</span><span class="hl-5">incrementDataObjectValue</span><span class="hl-2">([</span><span class="hl-4">`keyAssets.</span><span class="hl-6">${</span><span class="hl-3">keyAssetId</span><span class="hl-6">}</span><span class="hl-4">.totalItemsCollected.count`</span><span class="hl-2">], </span><span class="hl-9">1</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

</li>
</ul>
</li>
<li><strong>Dropped Asset:</strong> The Dropped Asset data object should only store what is unique to the specific instance of the app in the world such as game state. If the Dropped Asset is deleted, the data object would be lost as well so be sure to only store information here the doesn't need to persist!
<ul>
<li><strong>Example - Initialize data object with default data and keyAssetId:</strong><pre><code class="ts"><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">droppedAsset</span><span class="hl-2">.</span><span class="hl-5">setDataObject</span><span class="hl-2">(</span><br/><span class="hl-2">  {</span><br/><span class="hl-2">    ...</span><span class="hl-3">defaultGameData</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">keyAssetId:</span><span class="hl-2"> </span><span class="hl-3">droppedAsset</span><span class="hl-2">.</span><span class="hl-3">id</span><span class="hl-2">,</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  { </span><span class="hl-3">lock:</span><span class="hl-2"> { </span><span class="hl-3">lockId</span><span class="hl-2">, </span><span class="hl-3">releaseLock:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2"> } },</span><br/><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

</li>
<li><strong>Example - Update lastInteraction date and playerCount:</strong><pre><code class="ts"><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">droppedAsset</span><span class="hl-2">.</span><span class="hl-5">updateDataObject</span><span class="hl-2">({ </span><span class="hl-3">lastInteraction:</span><span class="hl-2"> </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">Date</span><span class="hl-2">(), </span><span class="hl-3">playerCount:</span><span class="hl-2"> </span><span class="hl-3">playerCount</span><span class="hl-2"> + </span><span class="hl-9">1</span><span class="hl-2"> });</span>
</code><button type="button">Copy</button></pre>

</li>
</ul>
</li>
<li><strong>User:</strong> The User data object should be used to store information unique to a user that is NOT unique to a world or instance (dropped asset) of an app.
<ul>
<li><strong>Example - Update totalMessagesSentCount by a user across all worlds:</strong>
<code>js await world.incrementDataObjectValue([`totalMessagesSentCount`], 1); </code>
<br/></li>
</ul>
</li>
</ul>
<h3 id="data-object-locking" class="tsd-anchor-link">Data Object Locking<a href="#data-object-locking" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All of our data object set, update, and increment methods have an optional lock argument. You can create a lock id using that parameters specific to the action you are taking plus a timestamp so that the lock will expire after a certain amount of time has passed. As an example, TicTacToe allows users to Reset the game board so that they can start a new game but we'd only want the reset to happen once even if the user(s) press the button multiple times. To prevent multiple resets from happening within a 10 second window (stopping the calls from going through and preventing the race condition), we'd lock the object by doing the following:</p>
<pre><code class="ts"><span class="hl-1">try</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">droppedAsset</span><span class="hl-2">.</span><span class="hl-5">updateDataObject</span><span class="hl-2">(</span><br/><span class="hl-2">    { </span><span class="hl-3">isResetInProgress:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2"> },</span><br/><span class="hl-2">    {</span><br/><span class="hl-2">      </span><span class="hl-3">lock:</span><span class="hl-2"> { </span><span class="hl-3">lockId:</span><span class="hl-2"> </span><span class="hl-4">`</span><span class="hl-6">${</span><span class="hl-3">assetId</span><span class="hl-6">}</span><span class="hl-4">-</span><span class="hl-6">${</span><span class="hl-3">resetCount</span><span class="hl-6">}</span><span class="hl-4">-</span><span class="hl-6">${</span><span class="hl-6">new</span><span class="hl-10"> </span><span class="hl-5">Date</span><span class="hl-10">(</span><span class="hl-3">Math</span><span class="hl-10">.</span><span class="hl-5">round</span><span class="hl-10">(</span><span class="hl-6">new</span><span class="hl-10"> </span><span class="hl-5">Date</span><span class="hl-10">().</span><span class="hl-5">getTime</span><span class="hl-10">() </span><span class="hl-2">/</span><span class="hl-10"> </span><span class="hl-9">10000</span><span class="hl-10">) </span><span class="hl-2">*</span><span class="hl-10"> </span><span class="hl-9">10000</span><span class="hl-10">)</span><span class="hl-6">}</span><span class="hl-4">`</span><span class="hl-2"> },</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">  );</span><br/><span class="hl-2">} </span><span class="hl-1">catch</span><span class="hl-2"> (</span><span class="hl-3">error</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">res</span><span class="hl-2">.</span><span class="hl-5">status</span><span class="hl-2">(</span><span class="hl-9">409</span><span class="hl-2">).</span><span class="hl-5">json</span><span class="hl-2">({ </span><span class="hl-3">message:</span><span class="hl-2"> </span><span class="hl-4">&quot;Reset already in progress.&quot;</span><span class="hl-2"> });</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>Using the code above would also allow us to check if <code>isResetInProgress === true</code> and prevent the code from progress immediately. Make sure that when using a lock such as this that you also call <code>await droppedAsset.updateDataObject({ isResetInProgress: false })};</code> after all reset functionality has been executed.</p>
<p><strong>Turn based locking</strong>
Locking data object updates can also be extremely helpful when building a turn based game. As an example, TicTacToe should only allow one user to take a turn at a time. To prevent multiple moves at once we could use the following:</p>
<pre><code class="ts"><span class="hl-1">try</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">timestamp</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">Date</span><span class="hl-2">(</span><span class="hl-3">Math</span><span class="hl-2">.</span><span class="hl-5">round</span><span class="hl-2">(</span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-5">Date</span><span class="hl-2">().</span><span class="hl-5">getTime</span><span class="hl-2">() / </span><span class="hl-9">5000</span><span class="hl-2">) * </span><span class="hl-9">5000</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">lockId</span><span class="hl-2"> = </span><span class="hl-4">`</span><span class="hl-6">${</span><span class="hl-3">keyAssetId</span><span class="hl-6">}</span><span class="hl-4">-</span><span class="hl-6">${</span><span class="hl-3">resetCount</span><span class="hl-6">}</span><span class="hl-4">-</span><span class="hl-6">${</span><span class="hl-3">turnCount</span><span class="hl-6">}</span><span class="hl-4">-</span><span class="hl-6">${</span><span class="hl-3">timestamp</span><span class="hl-6">}</span><span class="hl-4">`</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">droppedAsset</span><span class="hl-2">.</span><span class="hl-5">updateDataObject</span><span class="hl-2">({}, { </span><span class="hl-3">lock:</span><span class="hl-2"> { </span><span class="hl-3">lockId</span><span class="hl-2">, </span><span class="hl-3">releaseLock:</span><span class="hl-2"> </span><span class="hl-6">false</span><span class="hl-2"> } });</span><br/><span class="hl-2">} </span><span class="hl-1">catch</span><span class="hl-2"> (</span><span class="hl-3">error</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">res</span><span class="hl-2">.</span><span class="hl-5">status</span><span class="hl-2">(</span><span class="hl-9">409</span><span class="hl-2">).</span><span class="hl-5">json</span><span class="hl-2">({ </span><span class="hl-3">message:</span><span class="hl-2"> </span><span class="hl-4">&quot;Move already in progress.&quot;</span><span class="hl-2"> });</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>Once complete be sure to also call <code>await keyAsset.updateDataObject({ turnCount: turnCount + 1 });</code> so that the next player is free to take their turn!</p>
<h3 id="custom-analytics" class="tsd-anchor-link">Custom Analytics<a href="#custom-analytics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can leverage the data object methods for all types to track analytics unique to your Public Key by passing <code>analytics</code> as an optional array along with <code>profileId</code>, <code>urlSlug</code>, and/or <code>uniqueKey</code> to all calls that set, update, or increment data objects!</p>
<p><strong>World</strong> and <strong>Dropped Asset</strong> classes will automatically include <code>urlSlug</code>. In addition to <code>analytics</code> you can also pass <code>profileId</code> if you want to track event per user and/or a <code>uniqueKey</code> to additionally track uniqueness of the event for all time, per user (if <code>profileId</code> is included), and per world.</p>
<p>Examples leveraging World data objects calls:</p>
<pre><code class="ts"><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">world</span><span class="hl-2">.</span><span class="hl-5">setDataObject</span><span class="hl-2">({ </span><span class="hl-3">hello:</span><span class="hl-2"> </span><span class="hl-4">&quot;world&quot;</span><span class="hl-2"> }, { </span><span class="hl-3">analytics:</span><span class="hl-2"> [{ </span><span class="hl-3">analyticName:</span><span class="hl-2"> </span><span class="hl-4">&quot;resets&quot;</span><span class="hl-2">} ], </span><span class="hl-3">lock:</span><span class="hl-2"> { </span><span class="hl-3">lockId</span><span class="hl-2">, </span><span class="hl-3">releaseLock:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2"> });</span><br/><br/><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">world</span><span class="hl-2">.</span><span class="hl-5">updateDataObject</span><span class="hl-2">({}, { </span><span class="hl-3">analytics:</span><span class="hl-2"> [ {</span><span class="hl-3">analyticName:</span><span class="hl-2"> </span><span class="hl-4">&quot;matches&quot;</span><span class="hl-2">, </span><span class="hl-3">uniqueKey:</span><span class="hl-2"> </span><span class="hl-4">`</span><span class="hl-6">${</span><span class="hl-3">playerOneProfileId</span><span class="hl-6">}</span><span class="hl-4">-</span><span class="hl-6">${</span><span class="hl-3">playerTwoProfileId</span><span class="hl-6">}</span><span class="hl-4">`</span><span class="hl-2">, </span><span class="hl-3">urlSlug</span><span class="hl-2"> }], });</span><br/><br/><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">world</span><span class="hl-2">.</span><span class="hl-5">incrementDataObjectValue</span><span class="hl-2">(</span><span class="hl-4">`keyAssets.</span><span class="hl-6">${</span><span class="hl-3">assetId</span><span class="hl-6">}</span><span class="hl-4">.completions`</span><span class="hl-2">, </span><span class="hl-9">1</span><span class="hl-2">, { </span><span class="hl-3">analytics:</span><span class="hl-2"> [{ </span><span class="hl-3">analyticName:</span><span class="hl-4">&quot;completions&quot;</span><span class="hl-2">, </span><span class="hl-3">incrementBy:</span><span class="hl-2"> </span><span class="hl-9">2</span><span class="hl-2">, </span><span class="hl-3">profileId</span><span class="hl-2">, </span><span class="hl-3">uniqueKey:</span><span class="hl-2"> </span><span class="hl-3">profileId</span><span class="hl-2">, </span><span class="hl-3">urlSlug</span><span class="hl-2"> }] });</span>
</code><button type="button">Copy</button></pre>

<p><strong>Visitor</strong> and <strong>User</strong> classes will automatically include <code>profileId</code>. In addition to <code>analytics</code> you can also pass <code>urlSlug</code> if you want to track event per world and/or a <code>uniqueKey</code> to additionally track uniqueness of the event for all time, per user, and per world (if <code>urlSlug</code> is included).</p>
<p>Examples leveraging Visitor data objects calls:</p>
<pre><code class="ts"><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">visitor</span><span class="hl-2">.</span><span class="hl-5">setDataObject</span><span class="hl-2">(</span><br/><span class="hl-2">  { </span><span class="hl-3">hello:</span><span class="hl-2"> </span><span class="hl-4">&quot;world&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">  { </span><span class="hl-3">analytics:</span><span class="hl-2"> [{ </span><span class="hl-3">analyticName:</span><span class="hl-2"> </span><span class="hl-4">&quot;starts&quot;</span><span class="hl-2"> }], </span><span class="hl-3">lock:</span><span class="hl-2"> { </span><span class="hl-3">lockId</span><span class="hl-2">, </span><span class="hl-3">releaseLock:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2"> } },</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">visitor</span><span class="hl-2">.</span><span class="hl-5">updateDataObject</span><span class="hl-2">(</span><br/><span class="hl-2">  {},</span><br/><span class="hl-2">  { </span><span class="hl-3">analytics:</span><span class="hl-2"> [{ </span><span class="hl-3">analyticName:</span><span class="hl-2"> </span><span class="hl-4">&quot;emotesUnlocked&quot;</span><span class="hl-2">, </span><span class="hl-3">profileId</span><span class="hl-2">, </span><span class="hl-3">uniqueKey:</span><span class="hl-2"> </span><span class="hl-3">profileId</span><span class="hl-2"> }] },</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">visitor</span><span class="hl-2">.</span><span class="hl-5">incrementDataObjectValue</span><span class="hl-2">(</span><span class="hl-4">`completions`</span><span class="hl-2">, </span><span class="hl-9">1</span><span class="hl-2">, {</span><br/><span class="hl-2">  </span><span class="hl-3">analytics:</span><span class="hl-2"> [{ </span><span class="hl-3">analyticName:</span><span class="hl-2"> </span><span class="hl-4">&quot;completions&quot;</span><span class="hl-2">, </span><span class="hl-3">incrementBy:</span><span class="hl-2"> </span><span class="hl-9">2</span><span class="hl-2">, </span><span class="hl-3">profileId</span><span class="hl-2">, </span><span class="hl-3">urlSlug</span><span class="hl-2">, </span><span class="hl-3">uniqueKey:</span><span class="hl-2"> </span><span class="hl-3">profileId</span><span class="hl-2"> }],</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<p>Note: This does NOT impact the data objects themselves but rather allows you to track custom analytics (incremented by 1) across all instances of your application with a given Public Key.</p>
<br>
<h1 id="contributors" class="tsd-anchor-link">Contributors<a href="#contributors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><hr/>
<br>
<h2 id="get-started-1" class="tsd-anchor-link">Get Started<a href="#get-started-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Run <code>gh repo clone metaversecloud-com/mc-sdk-js</code></p>
<br>
<h2 id="issues" class="tsd-anchor-link">Issues<a href="#issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>We've added an Issue template to help standardize Issues and ensure they have enough detail for a developer to start work and help prevent contributors from forgetting to add an important piece of information.</p>
<br>
<h2 id="pull-requests" class="tsd-anchor-link">Pull Requests<a href="#pull-requests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>We've added a Pull Request template to help make it easier for developers to clarify what the proposed changes will do. This helps facilitate clear communication between all contributors of the SDK and ensures that we are all on the same page!</p>
<br>
<h2 id="documentation" class="tsd-anchor-link">Documentation<a href="#documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="styles" class="tsd-anchor-link">Styles<a href="#styles" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The SDK Stylesheet is already added to every boilerplate. To view documentation and examples please <a href="https://sdk-style.s3.amazonaws.com/example.html">click here</a>.</p>
<h3 id="ai-rules-for-rtsdktopia" class="tsd-anchor-link">AI Rules for @rtsdk/topia<a href="#ai-rules-for-rtsdktopia" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Always follow the rules outlined in ./ai/rules.md.</p>
<h3 id="developer-documentation" class="tsd-anchor-link">Developer Documentation<a href="#developer-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>We use <a href="https://typedoc.org/guides/overview">TypeDoc</a> to convert comments in TypeScript source code into rendered HTML documentation. Comments should be simple and concise and include examples where applicable. Please be sure to add or update comments accordingly!</p>
<p>To update docs run <code>yarn docs</code>.</p>
<p>To view docs locally open <code>mc-sdk-js/clients/client-topia/docs/modules.html</code> in your browser.</p>
<p>Example of Class comments:</p>
<pre><code class="ts"><span class="hl-0">/**</span><br/><span class="hl-0"> * Create an instance of Dropped Asset class with a given dropped asset id, url slug, and optional attributes and session credentials.</span><br/><span class="hl-0"> *</span><br/><span class="hl-0"> * </span><span class="hl-6">@example</span><br/><span class="hl-0"> * ```ts</span><br/><span class="hl-0"> * import { DroppedAsset } from &quot;utils/topiaInit.ts&quot;;</span><br/><span class="hl-0"> *</span><br/><span class="hl-0"> * const droppedAsset = await DroppedAsset.get(exampleDroppedAssetId, exampleUrlSlug, {</span><br/><span class="hl-0"> *   credentials: { interactivePublicKey: &quot;examplePublicKey&quot;, interactiveNonce: &quot;exampleNonce&quot;, assetId: &quot;exampleDroppedAssetId&quot;, visitorId: 1, urlSlug: &quot;exampleUrlSlug&quot; }</span><br/><span class="hl-0"> * });</span><br/><span class="hl-0"> * ```</span><br/><span class="hl-0"> */</span>
</code><button type="button">Copy</button></pre>

<p>Example of method comments</p>
<pre><code class="ts"><span class="hl-0">/**</span><br/><span class="hl-0"> * Sets the data object for a dropped asset and assigns the response data to the instance.</span><br/><span class="hl-0"> *</span><br/><span class="hl-0"> * </span><span class="hl-6">@remarks</span><br/><span class="hl-0"> * Optionally, a lock can be provided with this request to ensure only one update happens at a time between all updates that share the same lock id</span><br/><span class="hl-0"> *</span><br/><span class="hl-0"> * </span><span class="hl-6">@category</span><span class="hl-0"> Data Objects</span><br/><span class="hl-0"> *</span><br/><span class="hl-0"> * </span><span class="hl-6">@example</span><br/><span class="hl-0"> * ```ts</span><br/><span class="hl-0"> * await droppedAsset.setDataObject(</span><br/><span class="hl-0"> *   { resetCount: 0 },</span><br/><span class="hl-0"> *   {</span><br/><span class="hl-0"> *     analytics: [{ analyticName: &quot;resets&quot;} ],</span><br/><span class="hl-0"> *     lock: { lockId: `${droppedAssetId}-${resetCount}-${new Date(Math.round(new Date().getTime() / 10000) * 10000)}` },</span><br/><span class="hl-0"> *   },</span><br/><span class="hl-0"> * );</span><br/><span class="hl-0"> *</span><br/><span class="hl-0"> * const { resetCount } = droppedAsset.dataObject;</span><br/><span class="hl-0"> * ```</span><br/><span class="hl-0"> */</span>
</code><button type="button">Copy</button></pre>

<br>
<h2 id="testing" class="tsd-anchor-link">Testing<a href="#testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>We use Jest for testing and take advantage of dependency injection to pass mock data into our services.</p>
<p>To run the test suite, please run <code>yarn test</code>.</p>
<p><br><br></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#javascript-rtsdk---topia-client-library"><span>Javascript <wbr/>RTSDK -<wbr/> <wbr/>Topia <wbr/>Client <wbr/>Library</span></a><ul><li><ul><li><a href="#create-integrated-interactive-experiences-with-topias-sdk-and-api"><span>Create integrated, interactive experiences with <wbr/>Topia’s <wbr/>SDK and <wbr/>API</span></a></li><li><a href="#topias-sdkapi-can-be-used-to"><span>Topia’s <wbr/>SDK/<wbr/>API can be used to:</span></a></li><li><a href="#key-features"><span>Key <wbr/>Features:</span></a></li><li><a href="#resources"><span>Resources:</span></a></li><li><ul><li><a href="#need-inspiration-check-out-the-following-applications-which-utilizes-the-sdk-to-create-new-and-enhanced-features-inside-topiaio"><span>Need inspiration?! <wbr/>Check out the following applications which utilizes the <wbr/>SDK to create new and enhanced features inside topia.io:</span></a></li></ul></li></ul></li><li><a href="#authorization"><span>Authorization</span></a></li><li><ul><li><a href="#want-to-build-interactive-assets-this-is-how-you-can-get-started"><span>Want to build interactive assets? <wbr/>This is how you can get started:</span></a></li><li><a href="#want-to-enable-want-world-owners--admins-to-use-the-app-outside-of-topia-but-still-have-ability-to-modify-things-in-worlds-where-they-have-the-permission-to-do-so-this-is-how-you-can-create-an-api-key"><span>Want to enable want world owners / admins to use the app outside of <wbr/>Topia, but still have ability to modify things in worlds where they have the permission to do so? <wbr/>This is how you can create an <wbr/>API <wbr/>Key:</span></a></li></ul></li></ul><a href="#new-for-june-2025-multiplayer-experience-engine"><span>New for <wbr/>June 2025: <wbr/>Multiplayer <wbr/>Experience <wbr/>Engine</span></a><ul><li><a href="#key-features-1"><span>Key <wbr/>Features</span></a></li><li><a href="#sdk-integration-leverage-the-sdk-inside-the-experience-engine-to"><span>SDK <wbr/>Integration: <wbr/>Leverage the <wbr/>SDK inside the <wbr/>Experience <wbr/>Engine to:</span></a></li><li><a href="#get-in-touch"><span>Get <wbr/>In <wbr/>Touch</span></a></li></ul><a href="#developers"><span>Developers</span></a><ul><li><a href="#get-started"><span>Get <wbr/>Started</span></a></li><li><ul><li><a href="#boilerplates"><span>Boilerplates</span></a></li></ul></li><li><a href="#data-objects"><span>Data <wbr/>Objects</span></a></li><li><ul><li><a href="#data-object-locking"><span>Data <wbr/>Object <wbr/>Locking</span></a></li><li><a href="#custom-analytics"><span>Custom <wbr/>Analytics</span></a></li></ul></li></ul><a href="#contributors"><span>Contributors</span></a><ul><li><a href="#get-started-1"><span>Get <wbr/>Started</span></a></li><li><a href="#issues"><span>Issues</span></a></li><li><a href="#pull-requests"><span>Pull <wbr/>Requests</span></a></li><li><a href="#documentation"><span>Documentation</span></a></li><li><ul><li><a href="#styles"><span>Styles</span></a></li><li><a href="#ai-rules-for-rtsdktopia"><span>AI <wbr/>Rules for @rtsdk/topia</span></a></li><li><a href="#developer-documentation"><span>Developer <wbr/>Documentation</span></a></li></ul></li><li><a href="#testing"><span>Testing</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://www.npmjs.com/package/@rtsdk/topia" class="tsd-nav-link">NPM Package</a><a href="https://topia.io/sdk-demos" class="tsd-nav-link">Demo</a></nav><nav class="tsd-navigation"><a href="modules.html">RTSDK</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
